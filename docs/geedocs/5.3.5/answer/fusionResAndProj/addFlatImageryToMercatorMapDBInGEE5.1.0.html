

<!doctype html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add flat imagery to Mercator map databases in GEE 5.1.0 &#8212; Google Earth Enterprise 5.3.5 documentation</title>
    <link rel="stylesheet" href="../../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Add KML layers" href="addKMLLayers.html" />
    <link rel="prev" title="Map projection types in GEE 5.1.0" href="mapProjectTypesInGEE5.1.0.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="addKMLLayers.html" title="Add KML layers"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="mapProjectTypesInGEE5.1.0.html" title="Map projection types in GEE 5.1.0"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Google Earth Enterprise 5.3.5 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../fusionResAndProj.html" accesskey="U">Fusion Resources and Projects</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Add flat imagery to Mercator map databases in GEE 5.1.0</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p><a class="reference internal" href="../../_images/googlelogo_color_260x88dp2.png"><img alt="Google logo" src="../../_images/googlelogo_color_260x88dp2.png" style="width: 130px; height: 44px;" /></a></p>
<div class="section" id="add-flat-imagery-to-mercator-map-databases-in-gee-5-1-0">
<h1>Add flat imagery to Mercator map databases in GEE 5.1.0<a class="headerlink" href="#add-flat-imagery-to-mercator-map-databases-in-gee-5-1-0" title="Permalink to this headline">¶</a></h1>
<div class="docutils container">
<div class="content docutils container">
<p>When you build a Mercator-based map database, you must build
imagery projects specifically for use with Mercator-based
projection (EPSG: 3857). However, with GEE 5.1.0, if you already
have database imagery projects in the Plate Carrée projection
(EPSG: 4326), you can reuse them for your Mercator-based map
database using <em>Mercator on the Fly</em>. When disk space is a key
consideration, you only need imagery projects in Plate Carrée
projection for 2D flat, 2D Mercator, and 3D databases, reducing
the storage requirements for your assets.</p>
<p><em>Mercator on the Fly</em> converts a Plate Carrée-based imagery
project into a Mercator-based imagery project when you create your
map database in Fusion. When GEE Server hosts the published
Mercator database, the server requests the <em>Mercator on the Fly</em>
imagery project in the database and serves it with a Mercator
projection. With some projections, you may see a reduction in
serving speed when projecting a <em>Mercator on the Fly</em> imagery
project. For more information about performance, see <a class="reference internal" href="#mercator-fly-performance-data"><span class="std std-ref">Mercator on
the Fly Performance Data</span></a>.</p>
<p>As you decide which type of imagery project to build, you will need
to consider the projection types you need and whether disk space
or serving speed is important. For 2D flat, 2D Mercator, and 3D
databases, you can use flat imagery with <em>Mercator on the Fly</em> if
disk space is a key consideration. However if serving speed is a
key consideration, you should build both flat and Mercator imagery
projects. The following table shows the decision matrix to guide
you:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 13%" />
<col style="width: 13%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Build projects/serve databases</p></th>
<th class="head"><p>Mercator</p></th>
<th class="head"><p>2D flat and 3D</p></th>
<th class="head"><p>2D flat, Mercator, and 3D</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Flat imagery project</p></td>
<td><p><strong>X</strong></p></td>
<td><p><img alt="image1" src="../../_images/checkmark-g16.png" /></p></td>
<td><p><img alt="image2" src="../../_images/checkmark-g16.png" /> Disk space is most important. Flat imagery projects used for all
database types, with <em>Mercator on the Fly</em> used to serve flat imagery for Mercator map databases.</p></td>
</tr>
<tr class="row-odd"><td><p>Mercator imagery project</p></td>
<td><p><img alt="image3" src="../../_images/checkmark-g16.png" /></p></td>
<td><p><strong>X</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>Flat and Mercator imagery projects</p></td>
<td><p><img alt="image4" src="../../_images/checkmark-g16.png" /></p></td>
<td><p><img alt="image5" src="../../_images/checkmark-g16.png" /></p></td>
<td><p><img alt="image6" src="../../_images/checkmark-g16.png" /> Serving speed is most important. Flat imagery projects used for 3D and 2D flat
databases; Mercator imagery projects for Mercator map databases.</p></td>
</tr>
</tbody>
</table>
<p>Of course, if you are serving imagery <em>only</em> as Mercator map
databases, you should only build Mercator imagery projects.</p>
<p class="rubric">To add a flat imagery resource to a Mercator-based map
database:</p>
<ol class="arabic">
<li><p>Select <strong>Asset Manager</strong> from the <strong>Tools</strong> menu. The Asset
Manager dialog appears.</p></li>
<li><p>Select <strong>Mercator Map Tools (2D)</strong> from the Asset Manager
toolbar. The tools for Mercator maps appear in the toolbar.</p></li>
<li><p>Click <a class="reference internal" href="../../_images/iconDatabaseMap.png"><img alt="image7" src="../../_images/iconDatabaseMap.png" style="width: 20px; height: 20px;" /></a>. The Map Database Editor appears with no
projects selected.</p>
<p><a class="reference internal" href="../../_images/mapsMercDatabaseEditor.png"><img alt="Mercator Maps Database Editor" src="../../_images/mapsMercDatabaseEditor.png" style="width: 434px; height: 175px;" /></a></p>
</li>
<li><p>Click <img alt="image9" src="../../_images/icon_new.gif" /> next to <strong>Map Project</strong>. The Open Asset dialog
appears.</p></li>
<li><p>Navigate to the <code class="docutils literal notranslate"><span class="pre">ASSET_ROOT/Projects/Map</span></code>folder.</p></li>
<li><p>Select the map project that you want to add to the map database
and click <strong>Open</strong>.
The map project appears in the Map Database Editor next to Map Project.</p></li>
<li><p>Click <img alt="image10" src="../../_images/icon_new.gif" /> next to <strong>Imagery Project</strong>. The Open Asset dialog appears.</p></li>
<li><p>Navigate to the <code class="docutils literal notranslate"><span class="pre">ASSET_ROOT/Projects/Imagery</span></code> folder.</p></li>
<li><p>Select <strong>Flat Imagery Project</strong> from the <strong>Type</strong> drop-down list,
then select the imagery project to add and click <strong>Open</strong>.
The imagery project appears in the Map Database Editor next to Imagery
Project.</p></li>
<li><p>Select <strong>File &gt; Save</strong>.</p></li>
<li><p>Navigate to the <code class="docutils literal notranslate"><span class="pre">ASSET_ROOT/Databases</span></code> folder.</p></li>
<li><p>In the <strong>Name</strong> field, enter a name, and click <strong>Save</strong>.</p>
<p>In the Asset Manager, the new map database appears, along with the
other databases you have created. Notice that the <strong>Category</strong>
column distinguishes between the Google Earth databases and the
Google Maps database.</p>
</li>
<li><p>Right-click the name of your map database, and select <strong>Build</strong>
from the context menu.</p>
<p>The status of the database immediately changes to <strong>Waiting</strong> or
<strong>Queued</strong> and then to <strong>In Progress</strong>.</p>
<p>When Google Earth Enterprise Fusion finishes building the
database, its <strong>Current State</strong> column in the Asset Manager
changes to <strong>Succeeded</strong>, and its <strong>Current Version</strong> column
changes to the date and time the most recent build was started.</p>
</li>
</ol>
<p class="rubric" id="mercator-fly-performance-data">Mercator on the Fly performance data</p>
<p>Mercator resolution increases relative to Plate Carrée as latitude
increases (or decreases) from the equator for any given map level.
Therefore to obtain the correct Mercator resolution, tiles must
be sampled from higher Plate Carrée levels (known as upsampling).
The higher the latitude, the greater the number of tiles required
and, as a result, processing time for <em>Mercator on the Fly</em>
increases (although not proportionally). The following table lists
the number of Plate Carrée tiles required to produce a single
<em>Mercator on the Fly</em> tile vs. latitude (north or south) and the
approximate expected increase in processing time assuming cached
tiles.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 19%" />
<col style="width: 19%" />
<col style="width: 38%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Approximate Latitude Range(degrees)</p></th>
<th class="head"><p>Level Up to sample</p></th>
<th class="head"><p>MotF P.C. tiles processed</p></th>
<th class="head"><p>Max Relative Clock Time Ratio (relative to 1 tile)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0 to 40</p></td>
<td><p>1</p></td>
<td><p>1-2</p></td>
<td><p>1 to 1.2 (2 tiles)</p></td>
</tr>
<tr class="row-odd"><td><p>40 to 65</p></td>
<td><p>2</p></td>
<td><p>up to 4</p></td>
<td><p>2.1 (4 tiles)</p></td>
</tr>
<tr class="row-even"><td><p>65 to 75</p></td>
<td><p>3</p></td>
<td><p>up to 8</p></td>
<td><p>3.2 (8 tiles)</p></td>
</tr>
<tr class="row-odd"><td><p>75 to 85</p></td>
<td><p>4</p></td>
<td><p>up to 16</p></td>
<td><p>5.1 (16 tiles)</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Learn more</p>
<p><a class="reference internal" href="../fusionAdministration/pushAndPublishDB.html"><span class="doc">Push and publish databases</span></a>
<a class="reference internal" href="../geeServerAdmin/makeWMSRequests.html"><span class="doc">Make Web Map Service (WMS) requests</span></a></p>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="mapProjectTypesInGEE5.1.0.html"
                        title="previous chapter">Map projection types in GEE 5.1.0</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="addKMLLayers.html"
                        title="next chapter">Add KML layers</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="addKMLLayers.html" title="Add KML layers"
             >next</a> |</li>
        <li class="right" >
          <a href="mapProjectTypesInGEE5.1.0.html" title="Map projection types in GEE 5.1.0"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Google Earth Enterprise 5.3.5 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../fusionResAndProj.html" >Fusion Resources and Projects</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Add flat imagery to Mercator map databases in GEE 5.1.0</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Open GEE Contributors.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.1.
    </div>
  </body>
</html>