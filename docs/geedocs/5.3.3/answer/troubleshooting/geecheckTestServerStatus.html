

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Geecheck: test your GEE Server status &#8212; Google Earth Enterprise 5.3.3 documentation</title>
    <link rel="stylesheet" href="../../static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../../static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../static/documentation_options.js"></script>
    <script type="text/javascript" src="../../static/jquery.js"></script>
    <script type="text/javascript" src="../../static/underscore.js"></script>
    <script type="text/javascript" src="../../static/doctools.js"></script>
    <script type="text/javascript" src="../../static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Fusion diagnostics" href="fusionDiagnostics.html" />
    <link rel="prev" title="Troubleshooting and error messages" href="../troubleshooting.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="fusionDiagnostics.html" title="Fusion diagnostics"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../troubleshooting.html" title="Troubleshooting and error messages"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Google Earth Enterprise 5.3.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../troubleshooting.html" accesskey="U">Troubleshooting and error messages</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="../troubleshooting.html"
                        title="previous chapter">Troubleshooting and error messages</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="fusionDiagnostics.html"
                        title="next chapter">Fusion diagnostics</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p><a class="reference internal" href="../../images/googlelogo_color_260x88dp12.png"><img alt="Google logo" src="../../images/googlelogo_color_260x88dp12.png" style="width: 130px; height: 44px;" /></a></p>
<div class="section" id="geecheck-test-your-gee-server-status">
<h1>Geecheck: test your GEE Server status<a class="headerlink" href="#geecheck-test-your-gee-server-status" title="Permalink to this headline">Â¶</a></h1>
<div class="container">
<div class="content container">
<p><strong>Geecheck</strong> is a tool that checks the health and status of a GEE
Server installation. With GEE 5.1.x, you can use geecheck to run
tests and then view the results in a browser-based dashboard.
Results are organized into <em>suites</em> of results so that you can
quickly review the status of Fusion, GEE Server, as well as see
the output of other tests that you write.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">You can also run geecheck from the command line. In GEE 4.4 and
earlier versions, geecheck runs from the command line only.</p>
</div>
<ul class="simple">
<li><a class="reference internal" href="#how-geecheck-works"><span class="std std-ref">How geecheck works</span></a></li>
<li><a class="reference internal" href="#access-test-results-gee-server-admin-console"><span class="std std-ref">Access test results from GEE Server Admin console</span></a></li>
<li><a class="reference internal" href="#run-tests-again"><span class="std std-ref">Run the tests again</span></a></li>
<li><a class="reference internal" href="#create-your-own-tests"><span class="std std-ref">Create your own tests</span></a></li>
<li><a class="reference internal" href="#run-geecheck-command-line"><span class="std std-ref">Run geecheck on the command line</span></a></li>
<li><a class="reference internal" href="#run-geecheck-browser"><span class="std std-ref">Run geecheck in a browser</span></a></li>
<li><a class="reference internal" href="#about-moving-tests"><span class="std std-ref">About moving tests</span></a></li>
</ul>
<p class="rubric" id="how-geecheck-works">How geecheck works</p>
<p>Geecheck is a Python application, <code class="docutils literal notranslate"><span class="pre">geecheck.py</span></code>, and is
installed in the following location:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>/opt/google/gehttpd/cgi-bin
   geecheck.py
   geecheck_tests/
      user_tests/
      fusion_tests/
      server_tests/
   run_geecheck.py
   set_geecheck_config.py
</pre></div>
</div>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">geecheck.py</span></code> runs and displays the results from any tests
located in the subfolders:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>geecheck_tests/
   user_tests/
   fusion_tests/
   server_tests/
</pre></div>
</div>
</li>
<li><p class="first">Tests must follow the naming convention <code class="docutils literal notranslate"><span class="pre">*_test.py</span></code>, for
example, <code class="docutils literal notranslate"><span class="pre">dns_test.py</span></code>. Test results are organized by the
subfolder or suite they belong to, i.e., all tests in
<code class="docutils literal notranslate"><span class="pre">user_tests</span></code> are categorized under that results heading.</p>
</li>
</ul>
<p class="rubric" id="access-test-results-gee-server-admin-console">Access test results from GEE Server Admin console</p>
<p class="rubric">To access geecheck from GEE Server Admin console:</p>
<ol class="arabic">
<li><p class="first">Go to <em>myserver.mydomainname</em>.com/admin, replacing <em>myserver</em>
and <em>mydomainname</em> with your server and domain.</p>
</li>
<li><p class="first">Sign in with the default credentials:</p>
<ul class="simple">
<li>Username: <em>geapacheuser</em></li>
<li>Password: <em>geeadmin</em></li>
</ul>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>To reset the username and password:</p>
<p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">/opt/google/gehttpd/bin/htpasswd</span> <span class="pre">-c</span></code></p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">/opt/google/gehttpd/conf.d/.htpasswd</span> <span class="pre">geapacheuser</span></code></p>
</div>
</li>
<li><p class="first">Click the <img alt="gear icon" src="../../images/accounts_icon_gear_padded2.gif" /> <strong>Settings</strong> icon and select
<strong>Diagnostics</strong> from the menu to display the Geecheck page.</p>
</li>
<li><p class="first">View the <strong>Test Summary</strong> and <strong>Test Details</strong> sections to
verify the results of the tests that <code class="docutils literal notranslate"><span class="pre">geecheck</span></code> ran.</p>
</li>
</ol>
<p class="rubric" id="run-tests-again">Run the tests again</p>
<p>If you find you need to perform some troubleshooting based on the
results of any of your tests and you need to run the tests again
to confirm whether you have fixed the issue, simply restart GEE
Server, then open the Geecheck page again.</p>
<ul>
<li><p class="first">On the command line:</p>
<p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">sudo</span> <span class="pre">/etc/init.d/geserver</span> <span class="pre">restart</span></code></p>
</li>
<li><p class="first"><a class="reference internal" href="#access-test-results-gee-server-admin-console"><span class="std std-ref">Access test results from GEE Server Admin
console</span></a>.</p>
</li>
</ul>
<p class="rubric" id="create-your-own-tests">Create your own tests</p>
<p>GEE 5.1 includes some basic tests that you can run but <code class="docutils literal notranslate"><span class="pre">geecheck</span></code> is
a framework that lets you easily plug in your own tests and view
the results in a browser or on the command line. Tests should be
Python unit tests and must be copied to one of the three test
subfolders to be run from geecheck:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>geecheck_tests/
   user_tests/
   fusion_tests/
   server_tests/
</pre></div>
</div>
<p>To get some idea of how you can write your own test, you can study
the structure of the existing tests in the <code class="docutils literal notranslate"><span class="pre">user_tests</span></code> subfolder.
Use the code as a guide or simply copy and edit an existing test
if you are unfamiliar with Python unit tests.</p>
<p class="rubric" id="run-geecheck-command-line">Run geecheck on the command line</p>
<p>You can run <code class="docutils literal notranslate"><span class="pre">geecheck.py</span></code> from the command line with options to
exclude tests and specify the output. The default settings
includes all tests and output text.</p>
<p class="rubric">Exclude tests:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">--no_user_tests</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">--no_fusion_tests</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">--no_server_tests</span></code></li>
</ul>
<p class="rubric">Specify format:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">json</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">text</span></code></li>
</ul>
<p>For example, to output results in JSON format, excluding
<code class="docutils literal notranslate"><span class="pre">/user_tests</span></code>:</p>
<p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">/opt/google/gehttpd/cgi-bin</span>&#160; <span class="pre">python</span> <span class="pre">geecheck.py</span> <span class="pre">--no_user_tests</span> <span class="pre">json</span></code></p>
<p class="rubric" id="run-geecheck-browser">Run geecheck in a browser</p>
<p>To provide browser-based output, geecheck uses a wrapper:
<code class="docutils literal notranslate"><span class="pre">/opt/google/gehttpd/cgi-bin/run_geecheck.py</span></code>, which runs the
<code class="docutils literal notranslate"><span class="pre">geecheck.py</span></code> script and makes the output available to browsers
here: <code class="docutils literal notranslate"><span class="pre">http://MY_SERVER/cgi-bin/run_geecheck.py</span></code>.</p>
<p>The JSON response is used with the following page to make those
results readable: <code class="docutils literal notranslate"><span class="pre">http://MY_SERVER/admin/geecheck.html</span></code>, which
is the page that displays when you click the <img alt="gear icon" src="../../images/accounts_icon_gear_padded2.gif" /> <strong>Settings</strong> menu icon and select <strong>Diagnostics</strong> in
the GEE Server Admin console.</p>
<p class="rubric" id="about-moving-tests">About moving tests</p>
<p>You may want to run geecheck from a different location, e.g.,
if you have already created a large number of tests in a
different directory. Geecheck can be run successfully from a
different location with a few simple rules:</p>
<ol class="arabic">
<li><p class="first">You can move <code class="docutils literal notranslate"><span class="pre">geecheck_tests</span></code> but you need to maintain the
subfolder structure for geecheck to run:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>geecheck_tests/
   user_tests/
   fusion_tests/
   server_tests/
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">geecheck.py</span></code> and <code class="docutils literal notranslate"><span class="pre">set_geecheck_config.py</span></code> must be moved
with <code class="docutils literal notranslate"><span class="pre">geecheck_tests/</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>geecheck.py
set_geecheck_config.py
geecheck_tests/
</pre></div>
</div>
</li>
</ol>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">run_geecheck.py</span></code> looks for test scripts to run. It should not be moved. Once test scripts have been moved, <code class="docutils literal notranslate"><span class="pre">set_geecheck_config.py</span></code> should be run:</li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">./set_geecheck_config.py</span></code></p>
<p>This action updates the configuration found at
<code class="docutils literal notranslate"><span class="pre">/opt/google/geecheck/conf</span></code>, which tells <code class="docutils literal notranslate"><span class="pre">run_geecheck.py</span></code>
where to look for tests.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="fusionDiagnostics.html" title="Fusion diagnostics"
             >next</a> |</li>
        <li class="right" >
          <a href="../troubleshooting.html" title="Troubleshooting and error messages"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Google Earth Enterprise 5.3.3 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../troubleshooting.html" >Troubleshooting and error messages</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Open GEE Contributors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>