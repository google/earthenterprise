

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Relocate your asset root &#8212; Google Earth Enterprise 5.3.2 documentation</title>
    <link rel="stylesheet" href="../../static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../../static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../static/documentation_options.js"></script>
    <script type="text/javascript" src="../../static/jquery.js"></script>
    <script type="text/javascript" src="../../static/underscore.js"></script>
    <script type="text/javascript" src="../../static/doctools.js"></script>
    <script type="text/javascript" src="../../static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Configure your data locations" href="confDataLocation.html" />
    <link rel="prev" title="Manage Fusion disk space" href="manageFusionDiskSpace.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="confDataLocation.html" title="Configure your data locations"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="manageFusionDiskSpace.html" title="Manage Fusion disk space"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Google Earth Enterprise 5.3.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../fusionAdministration.html" accesskey="U">Fusion Administration</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="manageFusionDiskSpace.html"
                        title="previous chapter">Manage Fusion disk space</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="confDataLocation.html"
                        title="next chapter">Configure your data locations</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p><a class="reference internal" href="../../images/googlelogo_color_260x88dp1.png"><img alt="Google logo" src="../../images/googlelogo_color_260x88dp1.png" style="width: 130px; height: 44px;" /></a></p>
<div class="section" id="relocate-your-asset-root">
<h1>Relocate your asset root<a class="headerlink" href="#relocate-your-asset-root" title="Permalink to this headline">Â¶</a></h1>
<div class="docutils container">
<div class="content docutils container">
<p>When you install Google Earth Enterprise, you configure a source
volume and asset root for your production data. If you accepted
the default values, they are <code class="docutils literal notranslate"><span class="pre">/gevol/src</span></code> and <code class="docutils literal notranslate"><span class="pre">/gevol/assets</span></code>,
respectively.</p>
<p>You may need to relocate your asset root to a different volume for
a variety of reasons. You may be migrating from a single- to a
multiple-workstation configuration or modifying the local
path of a network-mounted source volume (for example, when adding
a larger drive for source data).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><strong>Note:</strong> Your asset root and publish root,
<code class="docutils literal notranslate"><span class="pre">/published_dbs/</span></code>, should be located on the same volume,
enabling Fusion to use symbolic links. Keeping your asset root
and publish root on separate volumes causes Fusion to make
copies of your databases, obviously leading to greater use of
disk space.</p>
</div>
<ul class="simple">
<li><a class="reference internal" href="#relocate-asset-publish-roots"><span class="std std-ref">Relocate your asset root and publish
root</span></a></li>
<li><a class="reference internal" href="#relocate-asset-root"><span class="std std-ref">Relocate your asset root only</span></a></li>
</ul>
<p class="rubric" id="relocate-asset-publish-roots">Relocate your asset root and publish root</p>
<p class="rubric" id="to-relocate-your-asset-root-and-publish-root">To relocate your asset root and publish root:</p>
<ol class="arabic">
<li><p class="first">Copy your asset root to the new location.</p>
</li>
<li><p class="first">Select your new asset root:</p>
<p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">/opt/google/geselectassetroot</span> <span class="pre">--assetroot</span> <span class="pre">new_path</span></code></p>
</li>
<li><p class="first">You may need to repair the relocated asset root, fixing various
inconsistencies in the asset root (such as permissions,
ownership, missing ID files, etc.). When you run this
command, the tool auto-detects the problems that need to be
repaired and fixes them.</p>
<p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">/opt/google/bin/geconfigureassetroot</span> <span class="pre">--repair</span> <span class="pre">new_path</span></code></p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">You may relocate/change other volume settings by editing
volumes. You can add a volume to the selected asset root,
modify the localpath definition for an existing volume, or
add a volume definition:
<code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">/opt/google/bin/geconfigureassetroot</span> <span class="pre">--editvolume</span></code></p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Make sure that the update to the asset root is successful
before attempting further changes to volume settings.</p>
</div>
</li>
<li><p class="first">Run Fusion and verify that you see all your databases.</p>
</li>
<li><p class="first">Create your new publish root:</p>
<p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">/opt/google/bin/geconfigurepublishroot</span></code></p>
</li>
<li><p class="first">Once you have configured the new publish root, you must
republish all of the databases, by pushing and then publishing
them. You can use the <strong>Fusion GUI</strong> to push and the <strong>GEE
Server Admin console</strong> to publish your databases or you can
perform these steps on the command line:</p>
<p><code class="docutils literal notranslate"><span class="pre">geserveradmin</span> <span class="pre">-adddb</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">geserveradmin</span> <span class="pre">-pushdb</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">geserveradmin</span> <span class="pre">-publishdb</span></code></p>
</li>
<li><p class="first">Optionally, you can delete your old asset root and your publish
root.</p>
</li>
</ol>
<p class="rubric" id="relocate-asset-root">Relocate your asset root only</p>
<p>Your asset root and publish root, <code class="docutils literal notranslate"><span class="pre">/published_dbs/</span></code>, should be
located on the same volume, enabling Fusion to use symbolic links.
If you maintain your asset root and publish root on separate
volumes, Fusion makes copies of your databases, obviously leading
to greater use of disk space.</p>
<p class="rubric" id="to-relocate-your-asset-root-if-your-publish-root-will-not-be-on-the-same-volume">To relocate your asset root if your publish root will
not be on the same volume:</p>
<ol class="arabic">
<li><p class="first">Unpublish all databases on the <strong>Databases</strong> page of the <strong>GEE
Server Admin console</strong> or on the command line:</p>
<p><code class="docutils literal notranslate"><span class="pre">geserveradmin</span> <span class="pre">--unpublish</span> <span class="pre">target_path</span></code></p>
</li>
<li><p class="first">Delete all pushed databases:</p>
<p><code class="docutils literal notranslate"><span class="pre">geserveradmin</span> <span class="pre">--deletedb</span> <span class="pre">db_name</span></code></p>
</li>
<li><p class="first">Clean up deleted databases using <code class="docutils literal notranslate"><span class="pre">garbagecollect</span></code>. This is
equivalent to emptying the <em>Trash</em> on some operating systems.</p>
<p><code class="docutils literal notranslate"><span class="pre">geserveradmin</span> <span class="pre">--garbagecollect</span></code></p>
</li>
<li><p class="first">Copy the asset root to the new location.</p>
</li>
<li><p class="first">Select the new asset root:</p>
<p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">/opt/google/geselectassetroot</span> <span class="pre">--assetroot</span> <span class="pre">new_path</span></code></p>
</li>
<li><p class="first">You may need to repair the relocated asset root, fixing various
inconsistencies in the asset root (such as permissions,
ownership, missing ID files, etc.). When you run this
command, the tool auto-detects the problems that need to be
repaired and fixes them.</p>
<p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">/opt/google/bin/geconfigureassetroot</span> <span class="pre">--repair</span> <span class="pre">new_path</span></code></p>
</li>
<li><p class="first">Run Fusion and verify that you see all of the databases.</p>
</li>
<li><p class="first">Once you have configured the new publish root, you must
republish all your databases, by pushing and then publishing
them. You can use the <strong>Fusion GUI</strong> to push and the <strong>GEE
Server Admin console</strong> to publish your databases or you can
perform these steps on the command line:</p>
<p><code class="docutils literal notranslate"><span class="pre">geserveradmin</span> <span class="pre">-adddb</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">geserveradmin</span> <span class="pre">-pushdb</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">geserveradmin</span> <span class="pre">-publishdb</span></code></p>
</li>
<li><p class="first">Optionally, you can delete your old asset root.</p>
</li>
</ol>
<p class="rubric" id="learn-more">Learn more</p>
<ul class="simple">
<li><a class="reference internal" href="pushAndPublishDB.html"><span class="doc">Push and publish databases</span></a></li>
<li><a class="reference internal" href="../fusionTutorial/confTutorialWS.html"><span class="doc">Configure Tutorial Workspace</span></a></li>
<li><a class="reference internal" href="backupFusionServers.html"><span class="doc">Back up Fusion servers</span></a></li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="confDataLocation.html" title="Configure your data locations"
             >next</a> |</li>
        <li class="right" >
          <a href="manageFusionDiskSpace.html" title="Manage Fusion disk space"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Google Earth Enterprise 5.3.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../fusionAdministration.html" >Fusion Administration</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Open GEE Contributors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>