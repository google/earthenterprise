
Release notes: Open GEE 5.2.5

-[ New Features ]-

When a GEE server is queried for server definitions, the response can
be returned in valid JSON format.

 The "v" parameter can be added to the query string to specify which
version of the API to use. The options are "v=1" and "v=2". Version
"1" returns data in the current format. Version "2" returns valid JSON
data. An example URL that returns data in JSON format is: "http://<GEE
earth server>/<database_publish_point>/query?request=Json&v=2".

Additional options when publishing from the command line.

 Users can now enable POI search, enhanced search, and WMS when
publishing from the command line.

Portable globe packet dumps

. "geglxinfo" is now capable of extracting packets from 3D portable
globes. This is useful for exploring the contents of a 3D portable
file.

Continue past empty levels.

 Cutter has a new advanced option when cutting from a 2D map. The
"Continue past empty levels" option forces Cutter to continue building
the portable file in the polygon region down to the region level even
if the GEE server thinks there is no imagery to display at
intermediate zoom levels.

Installation scripts are disabled when Open GEE packages are
installed.

 The install and uninstall scripts will now check if Open GEE has been
installed with a package manager before installation begins, and will
not make any changes when the packages are installed.

-[ Supported Platforms ]-

The Open GEE 5.2.5 release is supported on 64-bit versions of the
following operating systems:

Red Hat Enterprise Linux version 6.x and 7.x, including the most
recent security patches

CentOS 6.x and 7.x

Ubuntu 14.04 LTS and 16.04 LTS

Google Earth Enterprise 5.2.5 is compatible with Google Earth
Enterprise Client (EC) version 7.1.5 and above.

To upgrade from Open GEE 5.2.0, do NOT uninstall it. We recommend that
you upgrade Open GEE 5.2.0 by simply installing Open GEE 5.2.5.
Installing Open GEE 5.2.5 on top of Open GEE 5.2.0 will ensure that
your PostgreSQL databases are backed up and upgraded correctly to the
new PostgreSQL version used by Open GEE 5.2.5.

-[ Resolved Issues ]-

      Number  Description  Resolution  200  stage_install fails on the
tutorial files when /home and /tmp are on different file systems
Files are linked in /tmp using symbolic links back to original
locations.  968  /etc/init.d/gefusion stop Does Not Ensure Daemons
Stop  The System V init script has been migrated to using platform-
specific utilities for starting and stopping daemons (Damonize on Red
Hat, start-stop-daemon on Debian platforms). Those handle daemon
states correctly. The gestartdaemon and gestopdaemon utilities have
been removed.  973  Portable server builds require file generated by
geserver build  The portable server builds fail because they are
looking for earth_enterprise/src/version.txt generated by the full
earthenterprise build. As a consequence, portable server cannot be
build on Windows without manually creating the missing file.  1012
Cutter produces incorrect very low resolution result from 2D Mercator
map  If a 2D map contains imagery at resolution level 24 and Cutter
tries to create a portable map with a region level of 24 the resulting
portable map will now contain the high resolution imagery.  1020
State updates are slow for large builds  Updating the state of asset
versions used in large builds (such as when canceling or cleaning a
project) is now much more efficient.  1037  Projects use different
level numbers on the command line than in the Fusion User Interface  A
new parameter, --maxleveloverride, has been added for the
genew*project, geaddto*project, and gemodify*project families of
command line utilities. This parameter should be used instead of
--maxlevel, which is now deprecated. The new parameter matches the
Terrain and Imagery levels displayed in the Fusion UI  1038
genewmapdatabase does not allow flat imagery to be used with Mercator
databases  genewmapdatabase now looks for flat imagery projects as
well as Mercator imagery projects when adding imagery projects to
Mercator databases. Mercator imagery projects are given priority over
flat imagery projects in the case of a naming collision. Flat
databases can still only use flat imagery projects.  1079  Earth
Client can hang on a portable globe cut from a server with historical
data that no longer has access to the server.  A new parameter,
--disable_historical, has been added to gerewritedbroot. This
parameter removes the problematic reference to the historical data
URL, allowing it to be viewed in Earth Client.  1105  Symlinks are
incorrectly world-writable files after installation from RPM or Deb
Symlinks are now detected during the building of RPMs and Debs and are
copied into the package correctly.  1120  Installing Fusion without
Server using install scripts fails due to missing vars file  The
missing vars file is now created upon Fusion install as well.

-[ Known Issues ]-

      Number  Description  Workaround  1158  Portable maps or globes
served by Portable Server don't provide geeServerDefs to clients
through the Maps API if the map or globe is being viewed  No current
work around.  1142  Builds do not work without the system default
compiler  Install the system default compiler  1135  JavaScript
console error in portable server when loading build date  No current
work around.  1103  Build instructions for CentOS 6 are incorrect
Install gcc-c++, gettext, doxygen, and swig. Also run source
/opt/rh/devtoolset-2/enable in the same manner as RHEL6.  1093
geselectpublishroot displays no help when the --help flag is used  No
current work around.  1070  Scons build succeeds even if fusionui
folder is missing resulting in the Fusion UI not being installed.  If
the Fusion UI does not get installed, ensure that the fusionui folder
is where it belongs.  1026  High resolution imagery sometimes does not
appear when paired with low resolution imagery and terrain  Toggling
off the terrain reveals the high resolution imagery.  885  geserver
installation scripts fail silently when extensions fail to load  No
current work around.  825  geserver fails to start up fully due to
conflicting protobuf library  Run pip uninstall protobuf to uninstall
the protobuf library installed by pip.  700  Add EL6/EL7 check to RPMs
Make sure that RPMS are installed on same EL version that they were
produced for.  686  Scons fails to detect libpng library on CentOS 6
Ensure that a default g++ compiler is installed.  669  Missing
repository in build instructions for RHEL 7  Enable rhel-7-server-
optional-rpms and rhel-7-server-optional-source-rpms repositories.
651  Release executables and libraries depend on gtest  Follow current
build instructions that requires gtest to be installed.  640  Save
button disabled in 'Map Layer' creation dialog when an error
encountered  Close the resource form and re-open it to make the save
option available.  594  Save errors only reported for the first image
Close the form in question and try again.  557  WMS service problem
with 'width' & 'height' & 'bbox'  No current work around.  507  Volume
host is reported unavailable if `hostname` doesn't match volume host
Set the host values in /gevol/assets/.config/volumes.xml to the FQDN
and restart the Fusion service.  487  gdal - python utilities do not
recognize osgeo module  Install python-gdal.  477  'service geserver
stop/start/restart' doesn't work on Ubuntu 16.04 without a reboot
Reboot and try again.  474  Running gee_check on some supported
platforms reports that the platform is not supported  You can ignore
the failed test if using a supported platform (Ubuntu 14.04, Ubuntu
16.04, RHEL 7, and CentOS 7).  460  Possibility of seg fault in
QDateWrapper  No current work around.  456  Inconsistent behavior of
vector layers after upgrade  No current work around.  453  Improve
`check_server_processes_running` detection for uninstall  No current
work around.  448  Out of Memory issues  Use a system that has more
than 4GB RAM.  445  Path to tutorial source volume in gee_test
instructions is different from path used in installers  Use
/opt/google/share/tutorials.  444  Fusion installer does not upgrade
the asset root on RHEL 7  Upgrade the asset root manually by running
the command that is printed when you try to start the Fusion service.
442  Multiple database pushes after upgrade don't report a warning  No
current work around.  439  Uninstalling Fusion without stopping it
results in unexpected error message  Ignore that error message.  437
Rebooting Fusion server while it is building resources results in a
corrupted XML  No current work around.  419  Fix Fusion Graphics
Acceleration in Ubuntu 14 Docker Container Hosted on Ubuntu 16  No
current work around.  407  Corrupt data warning when starting Fusion
No current work around but Fusion loads and runs correctly.  405
Vector layer preview not cleared in some situations  Reset the preview
window to the correct state by either clicking on it or previewing
another vector layer.  404  Opaque polygons in preview.  No current
work around.  403  Missing Close button on system manager window in
RHEL 7  Right-click the title bar and select Close.  402  Provider
manager window locked to main window.  No current work around.  401
GEE commands are not in the path for sudo.  Specify the full path when
running commands or add /opt/google/bin to the path for all users,
including the super user.  380  Provider field in resource-view is
blank  Open the individual resource to see the provider.  343
gefusion: File ->open->*.kiasset*,*.ktasset*,*.kip does not work  kip
is not a supported format. Avoid opening files with .kip extension.
340  Fusion terrain is black  No current work around.  326  Libraries
may be loaded from the wrong directory  Delete any library versions
that should not be loaded or use LD_LIBRARY_PATH to load libraries
from /opt/google/lib.  320  The Portable Server web page uses obsolete
REST calls  Do not use the buttons on the Portable Server web
interface for adding remote servers or broadcasting to remote servers
as these features are no longer supported.  309  Check for the
FusionConnection before new asset is populated  Make sure that
gefusion service is started.  295  Fix buffer overflows and leaks in
unit tests  No current work around.  269  gevectorimport doesn't crop
features  Use GDAL/OGR to crop vector dataset before importing them
using Fusion.  254  Automasking fails for images stored with UTM
projection  Use GDAL to convert the images to a different projection
before importing them into Fusion.  237  geserver raises error
executing apache_logs.pyc  No current work around.  221  The asset
manager may display that a job is "Queued" when in fact the job is
"Blocked"  No current work around.  203  Some vector layer options are
not saved  No current work around.  202  Icons are not displayed on
vector layers in the Enterprise Client  No current work around. It is
not clear if this is an error in GEE or in the Enterprise Client.  201
Some tiles are displayed incorrectly in the Enterprise Client when
terrain is enabled  No current work around.  193  Updated docs are not
copied if the /tmp/fusion_os_install directory already exists  Delete
/tmp/fusion_os_install at the beginning of the stage_install build
process.  190  Hostname mismatch check in installers doesn't work as
expected  No current work around.  127  Incorrect error messages from
Fusion installer  No current work around.  34  Scons build creates
temporary directories named “0”  No current work around.  20  Simplify
build process for portable builds on MacOS  Building and running
Portable Server on MacOS should be possible with minimal changes.  9
Improve FileUnpacker Handling of Invalid Files  No current work
around.  8  Ensure GEE Portable Cutter Job Completes  No current work
around.  4  Google basemap fails to load in 2D Mercator Maps  Obtain a
valid Google Maps API key and include it in
/opt/google/gehttpd/htdocs/maps/maps_google.html.
