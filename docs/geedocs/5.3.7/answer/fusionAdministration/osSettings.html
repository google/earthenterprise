

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Operating System Settings That May Affect Fusion &#8212; Google Earth Enterprise 5.3.7 documentation</title>
    <link rel="stylesheet" href="../../static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../../static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../static/documentation_options.js"></script>
    <script type="text/javascript" src="../../static/jquery.js"></script>
    <script type="text/javascript" src="../../static/underscore.js"></script>
    <script type="text/javascript" src="../../static/doctools.js"></script>
    <script type="text/javascript" src="../../static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Command reference" href="commandReference.html" />
    <link rel="prev" title="Troubleshoot push/publishing issues" href="troubleshootPushPublishIssues.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="commandReference.html" title="Command reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="troubleshootPushPublishIssues.html" title="Troubleshoot push/publishing issues"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Google Earth Enterprise 5.3.7 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../fusionAdministration.html" accesskey="U">Fusion Administration</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="troubleshootPushPublishIssues.html"
                        title="previous chapter">Troubleshoot push/publishing issues</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="commandReference.html"
                        title="next chapter">Command reference</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p><a class="reference internal" href="../../images/googlelogo_color_260x88dp1.png"><img alt="Google logo" src="../../images/googlelogo_color_260x88dp1.png" style="width: 130px; height: 44px;" /></a></p>
<div class="section" id="operating-system-settings-that-may-affect-fusion">
<h1>Operating System Settings That May Affect Fusion<a class="headerlink" href="#operating-system-settings-that-may-affect-fusion" title="Permalink to this headline">Â¶</a></h1>
<div class="docutils container">
<div class="content docutils container">
<p>The Linux operating system implements several limits that may prevent
Fusion processes from running correctly, particularly when building large
projects or databases. To avoid this problem, run the steps below on all
of your Fusion servers.</p>
<p>The numbers used in the settings below are recommendations that should
work in most cases. You may want to adjust these numbers based on your
environment and workflow.</p>
<ol class="arabic simple">
<li>Edit <code class="docutils literal notranslate"><span class="pre">/etc/sysctl.conf</span></code> and insert the following lines:</li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>fs.file-max=1048576
vm.max_map_count=1000000
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">fs.file-max</span></code> should be at least the number of resources in your
largest project, plus some extra to allow for the additional files
Fusion uses. <code class="docutils literal notranslate"><span class="pre">vm.max_map_count</span></code> should be more than twice the number
of resources in your largest project.</p>
</div></blockquote>
<ol class="arabic simple" start="2">
<li>Edit <code class="docutils literal notranslate"><span class="pre">/etc/security/limits.conf</span></code> and insert the following lines:</li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gefusionuser soft nofile 1048576
gefusionuser hard nofile 1048576

gefusionuser soft nproc 65535
gefusionuser hard nproc 65535
</pre></div>
</div>
<p>Use the same number of files here that you used in the previous step.
The number of processes must be significantly greater than the number
of cores. Fusion uses one process per core plus two more for the system
manager and resource provider; however, the process limit should be
considerably larger to account for operating system processes.</p>
</div></blockquote>
<ol class="arabic simple" start="3">
<li>Remove these lines from <code class="docutils literal notranslate"><span class="pre">/etc/security/limits.conf</span></code> if they are
present:</li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>* hard memlock 529426432
* soft memlock 529426432
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="4">
<li>If necessary, modify the following line in the <code class="docutils literal notranslate"><span class="pre">start()</span></code> function of
<code class="docutils literal notranslate"><span class="pre">/etc/init.d/gefusion</span></code>:</li>
</ol>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ulimit -n 500000
</pre></div>
</div>
<p>Set this to the same number of files you used in the previous steps. If
the existing value is sufficiently large, no change is necessary.</p>
</div></blockquote>
<ol class="arabic simple" start="5">
<li>Reboot your Fusion servers.</li>
</ol>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="commandReference.html" title="Command reference"
             >next</a> |</li>
        <li class="right" >
          <a href="troubleshootPushPublishIssues.html" title="Troubleshoot push/publishing issues"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Google Earth Enterprise 5.3.7 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../fusionAdministration.html" >Fusion Administration</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Open GEE Contributors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>